# Unified configuration for STT + TTS + LLM
# This file is sourced by scripts/entrypoint.sh (bash) and read by services via environment.

############################
# Common
############################
DEBUG_MODE="${DEBUG_MODE:-false}"
HF_TOKEN="${HF_TOKEN:-}"

############################
# STT Service
############################
AUDIO_SERVICE_HOST="${AUDIO_SERVICE_HOST:-0.0.0.0}"
AUDIO_SERVICE_PORT="${AUDIO_SERVICE_PORT:-6000}"
STT_BACKEND="${STT_BACKEND:-moonshine}"         # whisper | moonshine

# Faster-Whisper
WHISPER_MODEL="${WHISPER_MODEL:-large-v3}"
WHISPER_COMPUTE_TYPE="${WHISPER_COMPUTE_TYPE:-float16}"

# Moonshine
STT_MODEL="${STT_MODEL:-fidoriel/moonshine-tiny-de}"

############################
# TTS Service
############################
TTS_SERVICE_HOST="${TTS_SERVICE_HOST:-0.0.0.0}"
TTS_SERVICE_PORT="${TTS_SERVICE_PORT:-5000}"
TTS_BACKEND="${TTS_BACKEND:-cosyvoice}"         # vibevoice | cosyvoice
LANGUAGE="${LANGUAGE:-de}"

# VibeVoice
TTS_MODEL="${TTS_MODEL:-aoi-ot/VibeVoice-7B}"

# CosyVoice
# Can be a local directory path OR a HF repo id like FunAudioLLM/Fun-CosyVoice3-0.5B-2512
COSYVOICE_MODEL_DIR="${COSYVOICE_MODEL_DIR:-pretrained_models/Fun-CosyVoice3-0.5B}"
COSYVOICE_DEFAULT_PROMPT_TEXT="${COSYVOICE_DEFAULT_PROMPT_TEXT:-You are a helpful assistant.<|endofprompt|>Hallo, hier spricht Jan.}"

############################
# LLM (vLLM)
############################
HOST="${HOST:-0.0.0.0}"
PORT="${PORT:-8000}"
GPU_MEMORY_UTILIZATION="${GPU_MEMORY_UTILIZATION:-0.65}"
ASYNC_SCHEDULING="${ASYNC_SCHEDULING:-true}"

# HF model id or local path
VLLM_MODEL="${VLLM_MODEL:-openai/gpt-oss-20b}"

# Optional GGUF support (HuggingFace resolve URL)
GGUF_MODEL_URL="${GGUF_MODEL_URL:-}"
VLLM_TOKENIZER="${VLLM_TOKENIZER:-}"

# Pass-through
EXTRA_VLLM_ARGS="${EXTRA_VLLM_ARGS:-}"
